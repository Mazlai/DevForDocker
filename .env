# =============================================================================
# Variables de configuration des ressources pour Docker Compose
# =============================================================================
# Ces variables permettent de personnaliser les limites de ressources
# de chaque conteneur sans modifier le fichier docker-compose.yml
#
# MÉMOIRE (mem_limit) :
#   - Définit la quantité maximale de RAM qu'un conteneur peut utiliser
#   - Format : 512m (mégaoctets), 1g (gigaoctets)
#   - Si dépassée, le conteneur est tué par l'OOM Killer
#
# CPU (cpus) :
#   - Définit la fraction de CPU qu'un conteneur peut utiliser
#   - 0.5 = 50% d'UN core CPU (pas du CPU total)
#   - 1 = 1 core complet, 2 = 2 cores, etc.
#   - Ce sont des limites par conteneur, pas un budget partagé
# =============================================================================

# ===== FRONTEND (Angular + http-server) =====
# http-server est léger, mais Node.js peut consommer de la RAM
FRONTEND_MEMORY_LIMIT=512m
FRONTEND_CPU_LIMIT=0.5

# ===== BACKEND (PHP-FPM) =====
# Pool de workers PHP. Chaque worker ~30-50 Mo. 256 Mo permet ~5 workers.
BACKEND_MEMORY_LIMIT=256m
BACKEND_CPU_LIMIT=0.5

# ===== SERVEUR WEB (Nginx) =====
# Nginx est très léger en mémoire, 128 Mo est largement suffisant
SERVER_MEMORY_LIMIT=128m
SERVER_CPU_LIMIT=0.25

# ===== OUTILS DE SUPERVISION =====
# Portainer : Interface web Go, consomme ~100-150 Mo en usage normal
PORTAINER_MEMORY_LIMIT=256m
PORTAINER_CPU_LIMIT=0.25

# cAdvisor : Collecte de métriques, overhead minimal après optimisation
CADVISOR_MEMORY_LIMIT=128m
CADVISOR_CPU_LIMIT=0.25
